(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0f13":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}));var a={uniPopup:e("ea2e").default},i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"content bc"},[e("my-card",[e("v-uni-text",{staticClass:"card-book-keeping-name",attrs:{slot:"cardName"},slot:"cardName"},[t._v("记账")]),e("v-uni-view",{staticClass:"card-book-keeping-content",attrs:{slot:"cardContent"},slot:"cardContent"},[e("v-uni-input",{staticClass:"input-number",attrs:{type:"text",placeholder:"输入金额(正负表示收入支出)"},model:{value:t.money,callback:function(n){t.money=n},expression:"money"}}),e("v-uni-button",{staticClass:"record iconfont",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.record.apply(void 0,arguments)}}},[t._v(" 记录")])],1)],1),e("my-card",[e("v-uni-text",{attrs:{slot:"cardName"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goDetail(1)}},slot:"cardName"},[t._v("支出统计")]),e("v-uni-text",{attrs:{slot:"cardSubtitle"},slot:"cardSubtitle"},[t._v("共"+t._s(t.formatMoney(t.payAll))+"元")]),e("my-list",{attrs:{slot:"cardContent",list:t.payList},slot:"cardContent"})],1),e("my-card",[e("v-uni-text",{attrs:{slot:"cardName"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goDetail(2)}},slot:"cardName"},[t._v("收入统计")]),e("v-uni-text",{attrs:{slot:"cardSubtitle"},slot:"cardSubtitle"},[t._v("共"+t._s(t.formatMoney(t.incomeAll))+"元")]),e("my-list",{attrs:{slot:"cardContent",list:t.incomeList},slot:"cardContent"})],1),e("my-card",[e("v-uni-text",{attrs:{slot:"cardName"},slot:"cardName"},[t._v("支出标签")]),e("v-uni-button",{staticClass:"cardSubtitleButton iconfont",attrs:{slot:"cardSubtitle"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.addTag(0)}},slot:"cardSubtitle"},[t._v(" 添加")]),e("v-uni-view",{attrs:{slot:"cardContent"},slot:"cardContent"},[t.payTags[0]?e("v-uni-view",{staticClass:"tagBox"},t._l(t.payTags,(function(n,a){return e("my-tag",{key:a+n,attrs:{colorIndex:a,tagContent:n.content,tid:n.tid,type:0,isOpen:!0},on:{delSuccess:function(n){arguments[0]=n=t.$handleEvent(n),t.getTags(0)}}})})),1):e("v-uni-view",{staticClass:"textNone"},[t._v("暂无标签")])],1)],1),e("my-card",[e("v-uni-text",{attrs:{slot:"cardName"},slot:"cardName"},[t._v("收入标签")]),e("v-uni-button",{staticClass:"cardSubtitleButton iconfont",attrs:{slot:"cardSubtitle"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.addTag(1)}},slot:"cardSubtitle"},[t._v(" 添加")]),e("v-uni-view",{attrs:{slot:"cardContent"},slot:"cardContent"},[t.incomeTags[0]?e("v-uni-view",{staticClass:"tagBox"},t._l(t.incomeTags,(function(n,a){return e("my-tag",{key:a+n,attrs:{colorIndex:a,tagContent:n.content,tid:n.tid,type:1,isOpen:!0},on:{delSuccess:function(n){arguments[0]=n=t.$handleEvent(n),t.getTags(1)}}})})),1):e("v-uni-view",{staticClass:"textNone"},[t._v("暂无标签")])],1)],1),e("v-uni-view",{staticClass:"total"},[e("v-uni-view",{staticClass:"totalWord"},[t._v("目前收入总情况：")]),e("v-uni-view",{staticClass:"totalNumber"},[t._v(t._s(t.formatMoney(t.incomeAll-t.payAll))+"元")])],1),e("v-uni-view",{staticClass:"logoutBox"},[e("v-uni-button",{staticClass:"iconfont",attrs:{type:"default"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.logout.apply(void 0,arguments)}}},[t._v(" 退出登录")])],1),e("uni-popup",{ref:"addTagPopup",attrs:{type:"dialog"}},[e("uni-popup-dialog",{attrs:{type:"warn",mode:"input",placeholder:"新标签名称","before-close":!0},on:{close:function(n){arguments[0]=n=t.$handleEvent(n),t.close.apply(void 0,arguments)},confirm:function(n){arguments[0]=n=t.$handleEvent(n),t.confirm.apply(void 0,arguments)}}})],1)],1)},o=[]},"18cf":function(t,n,e){"use strict";var a=e("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("fd48")),o={name:"my-list",mixins:[i.default],props:{list:{type:Array,default:function(){var t=[];return t}}},data:function(){return{}}};n.default=o},"1d6d":function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.card[data-v-1258de74]{width:90%;border:%?5?% solid #888;-webkit-border-radius:%?10?%;border-radius:%?10?%;margin:%?10?% auto;padding:%?10?%;background-color:#fbf2e3}.card .cardTitle[data-v-1258de74]{border-bottom:%?3?% solid #666;color:#666;font-size:%?36?%;display:-webkit-box;display:-webkit-flex;display:flex}.card .cardTitle .cardName[data-v-1258de74]{color:#fcd217}.card .cardTitle .cardSubtitle[data-v-1258de74]{text-align:right;-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?30?%;padding-top:%?20?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.shadow[data-v-1258de74]{-webkit-box-shadow:%?0?% %?0?% %?10?% #bbb;box-shadow:%?0?% %?0?% %?10?% #bbb}',""]),t.exports=n},2792:function(t,n,e){"use strict";e.r(n);var a=e("2cb2"),i=e("89b4");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("c348");var r,c=e("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"1258de74",null,!1,a["a"],r);n["default"]=s.exports},"2cb2":function(t,n,e){"use strict";var a;e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}));var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"card",class:{shadow:t.isShadow}},[e("v-uni-view",{staticClass:"cardTitle"},[e("v-uni-text",{staticClass:"cardName"},[t._t("cardName",[t._v("卡片名称")])],2),e("v-uni-view",{staticClass:"cardSubtitle"},[t._t("cardSubtitle")],2)],1),e("v-uni-view",{staticClass:"cardContent"},[t._t("cardContent",[t._v("卡片内容")])],2)],1)},o=[]},"2d04":function(t,n,e){"use strict";var a=e("aa2b"),i=e.n(a);i.a},"433d":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={props:{isShadow:{type:Boolean,default:!0}},name:"my-card",data:function(){return{}},onLoad:function(){}};n.default=a},"492d":function(t,n,e){var a=e("1d6d");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("5577acbd",a,!0,{sourceMap:!1,shadowMode:!1})},"651e":function(t,n,e){var a=e("801f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("6f34a279",a,!0,{sourceMap:!1,shadowMode:!1})},"801f":function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.listItem[data-v-5076bac6]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?10?%;font-size:%?25?%}.listItem .listTags[data-v-5076bac6]{width:50%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.listItem .listTime[data-v-5076bac6]{text-align:center}.listItem .listNumber[data-v-5076bac6]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.textNone[data-v-5076bac6]{text-align:center;font-size:%?30?%;font-weight:700;color:rgba(51,51,51,.3)}',""]),t.exports=n},8649:function(t,n,e){"use strict";e.r(n);var a=e("d1b7"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=i.a},"89b4":function(t,n,e){"use strict";e.r(n);var a=e("433d"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=i.a},aa2b:function(t,n,e){var a=e("db36");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("2a533e9a",a,!0,{sourceMap:!1,shadowMode:!1})},b2af:function(t,n,e){"use strict";e.r(n);var a=e("f52f"),i=e("c241");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("d6b1");var r,c=e("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"5076bac6",null,!1,a["a"],r);n["default"]=s.exports},c241:function(t,n,e){"use strict";e.r(n);var a=e("18cf"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=i.a},c348:function(t,n,e){"use strict";var a=e("492d"),i=e.n(a);i.a},cc54:function(t,n,e){"use strict";e.r(n);var a=e("0f13"),i=e("8649");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("2d04");var r,c=e("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"3c1fc189",null,!1,a["a"],r);n["default"]=s.exports},d1b7:function(t,n,e){"use strict";var a=e("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;a(e("7685"));var i=a(e("3614")),o=a(e("2792")),r=a(e("e5a9")),c=a(e("b2af")),s=a(e("fd48")),d={components:{myCard:o.default,myList:c.default,myTag:r.default,uniPopupDialog:i.default},mixins:[s.default],data:function(){return{money:"",payAll:200,incomeAll:2e8,payTags:[],incomeTags:[],payList:[],incomeList:[],tagTypeIndex:-1}},mounted:function(){this.getTags(3)},onShow:function(){this.money="",this.getRecords()},methods:{getTags:function(t){var n=this,e={type:t,owner:this.$store.getters["user/account"]};this.$store.dispatch("tags/getTags",e).then((function(t){n.payTags=n.$store.getters["tags/payTags"],n.incomeTags=n.$store.getters["tags/incomeTags"]}))},getRecords:function(){var t=this,n={type:3,account:this.$store.getters["user/account"],limit:5};this.$store.dispatch("record/getRecords",n).then((function(n){t.payList=n.payRecords,t.incomeList=n.incomeRecords,t.payAll=+n.payCount<0?-n.payCount:n.payCount,t.incomeAll=n.incomeCount}))},record:function(){if(""===this.money||isNaN(+this.money))return uni.showToast({title:"请输入数字！",icon:"none"}),!1;var t=+this.money;uni.navigateTo({url:"/pages/record/index?money="+t})},goDetail:function(t){uni.navigateTo({url:"/pages/detail/index?index="+t})},addTag:function(t){this.$refs.addTagPopup.open(),this.tagTypeIndex=t},close:function(t){t(),this.tagTypeIndex=-1},confirm:function(t,n){var e=this;if(-1===this.tagTypeIndex||!n)return!1;var a=this.tagTypeIndex,i=this.$store.getters["user/account"],o={tid:i+Date.now(),owner:i,content:n,type:a};this.$store.dispatch("tags/addTag",o).then((function(n){uni.showToast({title:"添加成功！",icon:"none"}),e.getTags(a),t()}))},logout:function(){var t=this.$store.getters["user/account"];this.$store.dispatch("user/logout",{account:t}).then((function(t){uni.showToast({title:"退出成功！",icon:"none"}),uni.reLaunch({url:"/pages/login/index"})}))}}};n.default=d},d6b1:function(t,n,e){"use strict";var a=e("651e"),i=e.n(a);i.a},db36:function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.content[data-v-3c1fc189]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;min-height:100vh;min-height:calc(100vh - 44px);padding:%?30?% 0}.content .card-book-keeping-content[data-v-3c1fc189]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?%}.content .card-book-keeping-content .input-number[data-v-3c1fc189]{width:70%;color:#666;height:%?90?%;text-align:center}.content .card-book-keeping-content .record[data-v-3c1fc189]{-webkit-box-flex:1;-webkit-flex:1;flex:1;background-color:#fcd217;border:0}.content .cardSubtitleButton[data-v-3c1fc189]{width:%?150?%;float:right;height:%?40?%;line-height:%?40?%;font-size:%?20?%;background-color:#fcd217;color:#000;margin-bottom:%?10?%}.content .tagBox[data-v-3c1fc189]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.content .total[data-v-3c1fc189]{display:-webkit-box;display:-webkit-flex;display:flex}.content .total .totalWord[data-v-3c1fc189]{text-align:left}.content .total .totalNumber[data-v-3c1fc189]{text-align:right}.content .form[data-v-3c1fc189]{width:100%}.content .form .recordInfo[data-v-3c1fc189]{padding:%?20?%;border-top:%?5?% solid #333;border-bottom:%?5?% solid #333}.content .textNone[data-v-3c1fc189]{font-size:%?30?%;font-weight:700;color:rgba(51,51,51,.3);width:100%;text-align:center}.content .logoutBox[data-v-3c1fc189]{margin-top:%?30?%;width:80%}.content .logoutBox uni-button[data-v-3c1fc189]{background-color:#f0ad4e;color:#eee}',""]),t.exports=n},f52f:function(t,n,e){"use strict";var a;e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}));var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[t.list[0]?e("v-uni-view",t._l(t.list,(function(n,a){return e("v-uni-view",{key:a,staticClass:"listItem"},[e("v-uni-view",{staticClass:"listTags"},[t._v(t._s(n.tags||n.info))]),e("v-uni-view",{staticClass:"listTime"},[t._v(t._s(n.date+" "+n.time))]),e("v-uni-view",{staticClass:"listNumber"},[t._v(t._s(t.formatMoney(n.money))+"元")])],1)})),1):e("v-uni-view",{staticClass:"textNone"},[t._v("暂无记录")])],1)},o=[]},fd48:function(t,n,e){"use strict";e("a15b"),e("b680"),e("4d63"),e("ac1f"),e("25f0"),e("5319"),e("1276"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={data:function(){return{load:null}},beforeMount:function(){},beforeDestroy:function(){},mounted:function(){},methods:{formatMoney:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",";if(isNaN(+t))return"数据错误！";t=+t.toFixed(2)+"";var a=t.split("."),i=new RegExp("\\B(?=(?:\\d{".concat(n,"})+$)"),"gi");return a[0]=a[0].replace(i,e),a.join(".")}}};n.default=a}}]);